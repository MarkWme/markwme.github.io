---
layout: post
title: "Windows Server Containers, Hyper-V Containers and Nano Server - A Dream Come True?"
categories: "Windows Server" 
tags: [windows server, hyper-v, containers, nano server]
---
Jeffrey Snover called this his second proudest day working at Microsoft (presumably PowerShell was his first!) He [officially announced Windows Nano Server][nano-announcement], [Windows Server Containers and Hyper-V Containers][container-announcement] and then went on to say that when he came to Microsoft 15 years ago, he wanted to change the OS and change the world and that Nano Server is a dream come true.

Early news of Nano Server slipped out onto some technology blogs a couple of weeks ago, but now it's official.  Microsoft has been working on small footprint versions of Windows Server for some time and Windows Server 2012 became the first version of the operating system to make "Server Core" the default installation mode. And like Server Core, Nano server is planned to be an installation option rather than a seperate SKU of Windows Server.  Microsoft say that Nano is a deeply refactored version of Windows Server, rather than just a stripped down version of the OS which is what you were getting with Server Core.  They say that they have removed the GUI stack, 32-bit support, MSI and a number of default Server Core components. Remote Desktop is gone and no local logon is possible.  Everything is managed remotely via WMI and PowerShell.  Indeed, the only video I can currently find online that shows Nano Server in operation is just a good old fashioned MS-DOS style command prompt, not even the single window command prompt GUI you get with Server Core.

Last October, Microsoft announced jointly with Docker their plans to bring containers to the Windows platform. In yesterday's announcements, they revealed the ability to run containers on both native Windows Server, with the Nano Server providing the ideal platform, or in Hyper-V. The development, deployment and management tooling for both are apparently the same, meaning you have the flexibility to choose how to host particular workloads.

As an infrastructure guy, the promise of containers is really a dream come true.  A couple of years ago whilst discussing how on earth we were going to migrate thousands of applications off of the aging Windows Server 2003 operating system, I mused with my colleagues about a future where applications could be run in a fully self contained environment, which could be dropped on top of any operating system and moved around as needed.  OS level patching is no longer a problem, just move the container somewhere else and patch the host.  OS end of life is no longer a problem, just move the container to a host running the latest OS and shutdown the old one.  Application needs more power?  Just grant more resources to the virtual machine it's running within, or move it to a different farm with better underlying hardware.  Or move the container to a physical host.  And all of this could be done with zero downtime for the application in question.

Can containers on Windows deliver any of that?  Well, details are still thin on the ground but more will be revealed towards the end of this month as both the Build and Ignite conferences take place. Nano Server will ship as part of the next version of Windows Server which is currently slated for release at some point in 2016.  Most people are expecting this new feature to debut in the next preview release of Windows Server which is generally expected to be made available in the next few weeks.

[nano-announcement]:		http://blogs.technet.com/b/windowsserver/archive/2015/04/08/microsoft-announces-nano-server-for-modern-apps-and-cloud.aspx
[container-announcement]:	http://blogs.technet.com/b/server-cloud/archive/2015/04/08/microsoft-announces-new-container-technologies-for-the-next-generation-cloud.aspx